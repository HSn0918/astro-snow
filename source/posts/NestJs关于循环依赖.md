---
title: NestJs关于循环依赖
date: 2023-11-15 21:21:35
tags: 技术分享
---

## 有感而发

NestJS循环依赖问题：角色依赖了权限，权限依赖了角色模块。使用了循环依赖导入。

但是，在角色模块的服务里使用权限模块里的service方法时，就会提示导入的权限模块不正确。

但是，把角色里调用权限模块的方法逻辑删了，就正常了。

但是这段逻辑放角色控制器里调用并不会报错。

就很奇妙，所以，**还是得避免使用循环依赖**。我查阅了文档后才得知官网不推荐这么做。

## 总结

NestJS开发者们，希望不要和我一样。**尽量避免循环依赖吧**！

## 相关截图

![img.png](../img/img_8.png)
![img_1.png](../img/img_9.png)
![img_2.png](../img/img_10.png)
