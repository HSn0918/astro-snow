---
import { blogSocialConfig } from '@/config/blogLayoutConfig';
import { cn } from '@lib/utils';
---

<!-- TODO: use CSS squircle corner-shape replace the rounded-xl border-radius with a squircle corner-shape (https://www.squircle.style/) -->
<div class="mt-2 grid grid-cols-3 gap-2">
  {
    Object.entries(blogSocialConfig).map(([key, config]) => {
      const { url, label, iconClass, color } = config;
      return (
        <div>
          <a
            class={cn(
              'social-link flex-center group relative overflow-hidden rounded-xl px-1.5 py-1 transition-all duration-300 group-hover:scale-105',
            )}
            style={color ? `--link-color: ${color}` : ''}
            data-platform={key}
            href={url}
            title={label}
            data-tooltip-interactive="false"
            data-tooltip-placement="top"
            aria-label={label}
          >
            {iconClass && <i class={`${iconClass} social-icon`} aria-hidden="true"></i>}
            <span class="absolute inset-0 -z-10 -translate-x-full translate-y-full rounded-xl transition-transform duration-300 group-hover:translate-x-0 group-hover:translate-y-0" />
          </a>
        </div>
      );
    })
  }
</div>

<style>
  .social-link {
    /* background-color: color-mix(in srgb, var(--link-color) 20%, transparent); */
    color: var(--link-color);
  }
  .social-icon {
    font-size: 1.25rem;
    transition: transform 0.3s ease;
  }
  .social-link:hover .social-icon {
    transform: scale(1.1);
  }
  .social-link span {
    background-color: var(--link-color);
  }
  .social-link:hover {
    color: hsl(var(--background));
  }

  /* 暗色模式下的特殊处理 */
  :global(.dark) .social-link[data-platform='github'] {
    color: hsl(var(--foreground));
  }
</style>
