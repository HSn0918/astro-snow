---
import GiscusComments from '@/components/common/GiscusComments';
import FriendRequestForm from '@components/friends/FriendRequestForm';
import FriendsGrid from '@components/friends/FriendsGrid';
import HomeSider from '@components/layout/HomeSider.astro';
import Cover from '@components/ui/cover/Cover.astro';
import TwoColumnLayout from '@components/layout/TwoColumnLayout.astro';
import LayoutFooter from '@components/layout/LayoutFooter';
import { CONTENT_PADDING } from '@constants/layout';
import Layout from '@layouts/Layout.astro';
import { getLayoutFooterData } from '@lib/layout/footer-data';

const title = '友情链接 | snowの博客';
const description = '我的小伙伴们,欢迎加友链~';

const layoutFooterData = await getLayoutFooterData();
---

<Layout title={title} description={description}>
  <TwoColumnLayout>
    <Cover slot="cover" title="友情链接" />
    <HomeSider slot="sider" />
    <LayoutFooter slot="footer" {...layoutFooterData} />
    <div
      class={`bg-gradient-start shadow-box tablet:shadow-none flex flex-col gap-10 overflow-hidden ${CONTENT_PADDING.standard}`}
    >
      <div class="mt-4">
        <FriendsGrid client:load />
      </div>
      <details class="bg-foreground/5 rounded-2xl p-4 md:p-3" data-collapsible>
        <summary class="flex cursor-pointer items-center justify-between gap-3 select-none">
          <span class="text-foreground/90 text-lg font-semibold">申请友链</span>
          <i class="collapse-caret fa-solid fa-caret-down text-base transition-transform duration-300" aria-hidden="true"></i>
        </summary>
        <div class="mt-4">
          <FriendRequestForm client:visible />
        </div>
      </details>
      <div class="mb-4">
        <GiscusComments client:load />
      </div>
    </div>
  </TwoColumnLayout>
</Layout>
